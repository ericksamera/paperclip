/* Theme tokens mirror base.css, so iframe follows Light/Dark */
:root {
  --bg:#0d1117; --fg:#e6edf3; --muted:#9aa7ba; --line:#2f3742;
  --panel:#141a22; --panel-strong:#0e1622; --accent:#3b82f6;
}
:root[data-theme="light"]{
  --bg:#ffffff; --fg:#0b1220; --muted:#5b6574; --line:#d0d7de;
  --panel:#f9fbfe; --panel-strong:#eef3fb; --accent:#2156e5;
}

html,body { height:100% }
body { margin:0; background:var(--bg); color:var(--fg); font:14px/1.4 system-ui, sans-serif; overflow:hidden }
#svg { position:fixed; inset:0; width:100vw; height:100vh; background:color-mix(in oklab, var(--bg) 90%, black 10%); }

/* HUD */
.hud { position:fixed; left:14px; top:14px; width:380px; max-height:calc(100vh - 28px); overflow:auto;
       background:color-mix(in oklab, var(--panel) 92%, black 8%); border:1px solid var(--line);
       border-radius:12px; box-shadow:0 8px 30px rgba(0,0,0,.35); padding:10px }
.row { margin-bottom:10px }
.muted { color:var(--muted) }
.toggle { display:flex; gap:8px; align-items:center; font-size:13px; color:var(--muted) }

.search { width:100%; padding:8px 10px; border-radius:8px; border:1px solid var(--line); background:var(--panel-strong); color:var(--fg) }
h2 { margin:6px 0 8px 0; font-size:15px }
.topics { max-height: 46vh; overflow:auto }
.chip { display:inline-flex; align-items:center; padding:4px 8px; border:1px solid var(--line);
        border-radius:999px; margin:3px 4px 0 0; font-size:12px; }
.bar { height:6px; background: var(--line); border-radius:999px; overflow:hidden; }
.bar > span { display:block; height:100% }

.btn { border:1px solid var(--line); background: var(--panel-strong); color:var(--fg); padding:6px 10px; border-radius:8px; cursor:pointer; }
.btn + .btn { margin-left:6px }

/* Graph styles */
.node text { fill: var(--muted); font-size:11px; pointer-events:none }
.node circle { stroke:#000; stroke-opacity:.25; cursor:grab }
.node.dragging circle { cursor:grabbing }
.edge { stroke:#7b8696; stroke-opacity:.35 }
.edge.hl { stroke-opacity:.9; }
.node.dim text, .node.dim circle { opacity:.2 }
.edge.dim { opacity:.12 }
.node.hl text { fill:#fff; font-weight:700 }

/* Cluster hulls & labels */
.hull { fill-opacity:.12; stroke-width:2; stroke-linejoin:round; }
.cluster-label { font-size:12px; font-weight:700; text-anchor:middle; fill:var(--fg);
  paint-order:stroke; stroke:color-mix(in oklab, var(--bg) 96%, black 4%); stroke-width:4; }

@media (max-width: 820px) { .hud { width: 92vw } }
